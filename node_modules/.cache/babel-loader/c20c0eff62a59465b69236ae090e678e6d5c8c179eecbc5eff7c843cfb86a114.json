{"ast":null,"code":"var _jsxFileName = \"D:\\\\React_JS\\\\DB_StarlightCinema\\\\src\\\\seatpick.js\";\nimport './main.css';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class SeatPicker extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      seat: ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10', 'B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10', 'C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8', 'C9', 'C10', 'D1', 'D2', 'D3', 'D4', 'D5', 'D6', 'D7', 'D8', 'D9', 'D10'],\n      seatAvailable: ['A1', 'A2', 'A3', 'A6', 'A7', 'A8', 'A9', 'A10', 'B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10', 'C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8', 'C9', 'C10', 'D1', 'D2', 'D3', 'D4', 'D5', 'D6', 'D7', 'D8'],\n      seatReserved: [],\n      seatUnavailable: ['A4', 'A5', 'D9', 'D10']\n    };\n  }\n  onClickData(seat) {\n    const total = this.props.totalSeats;\n    const isSeatReserved = this.state.seatReserved.indexOf(seat) > -1;\n    if (isSeatReserved) {\n      this.setState({\n        seatAvailable: this.state.seatAvailable.concat(seat),\n        seatReserved: this.state.seatReserved.filter(res => res !== seat)\n      }, () => {\n        // 在状态更新后执行的逻辑\n        this.props.onReservedSeatsCountChange(this.state.seatReserved.length);\n      });\n    } else {\n      if (this.state.seatReserved.length === total) {\n        return;\n      }\n      if (this.state.seatUnavailable.indexOf(seat) > -1) {\n        return;\n      }\n      if (this.state.seatReserved.indexOf(seat) > -1) {\n        this.setState({\n          seatAvailable: this.state.seatAvailable.concat(seat),\n          seatReserved: this.state.seatReserved.filter(res => res !== seat)\n        }, () => {\n          this.props.onReservedSeatsCountChange(this.state.seatReserved.length);\n        });\n      } else {\n        this.setState({\n          seatReserved: this.state.seatReserved.concat(seat),\n          seatAvailable: this.state.seatAvailable.filter(res => res !== seat)\n        }, () => {\n          this.props.onReservedSeatsCountChange(this.state.seatReserved.length);\n        });\n      }\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"blank\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DrawGrid, {\n        seat: this.state.seat,\n        available: this.state.seatAvailable,\n        reserved: this.state.seatReserved,\n        unavailable: this.state.seatUnavailable,\n        onClickData: this.onClickData.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this);\n  }\n}\nclass DrawGrid extends React.Component {\n  render() {\n    const seats = this.props.seat;\n    const seatRows = [];\n    for (let i = 0; i < seats.length; i += 10) {\n      seatRows.push(seats.slice(i, i + 10));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"grid\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: seatRows.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: row.map(seat => /*#__PURE__*/_jsxDEV(\"td\", {\n              className: this.props.reserved.indexOf(seat) > -1\n              //   ? 'reserved'\n              //   : 'available'\n              ? 'reserved' : this.props.unavailable.indexOf(seat) > -1 ? 'unavailable' : 'available',\n              onClick: e => this.onClickSeat(seat)\n            }, seat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 21\n            }, this))\n          }, rowIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this);\n  }\n  onClickSeat(seat) {\n    this.props.onClickData(seat);\n  }\n}","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","SeatPicker","Component","constructor","state","seat","seatAvailable","seatReserved","seatUnavailable","onClickData","total","props","totalSeats","isSeatReserved","indexOf","setState","concat","filter","res","onReservedSeatsCountChange","length","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","DrawGrid","available","reserved","unavailable","bind","seats","seatRows","i","push","slice","map","row","rowIndex","onClick","e","onClickSeat"],"sources":["D:/React_JS/DB_StarlightCinema/src/seatpick.js"],"sourcesContent":["import './main.css'\r\nimport React from 'react';\r\n\r\nexport default class SeatPicker extends React.Component {\r\n  \r\n    constructor() {\r\n      super();\r\n        this.state = {\r\n        seat: [\r\n          'A1','A2','A3','A4','A5','A6','A7','A8','A9','A10',\r\n          'B1','B2','B3','B4','B5','B6','B7','B8','B9','B10',\r\n          'C1','C2','C3','C4','C5','C6','C7','C8','C9','C10',\r\n          'D1','D2','D3','D4','D5','D6','D7','D8','D9','D10'\r\n        ],\r\n        seatAvailable: [\r\n            'A1','A2','A3','A6','A7','A8','A9','A10',\r\n            'B1','B2','B3','B4','B5','B6','B7','B8','B9','B10',\r\n            'C1','C2','C3','C4','C5','C6','C7','C8','C9','C10',\r\n            'D1','D2','D3','D4','D5','D6','D7','D8'\r\n        ],\r\n        seatReserved: [],\r\n        seatUnavailable: ['A4', 'A5','D9','D10']\r\n      }\r\n    }\r\n      onClickData(seat) {\r\n        const total = this.props.totalSeats;\r\n        const isSeatReserved = this.state.seatReserved.indexOf(seat) > -1;\r\n      \r\n        if (isSeatReserved) {\r\n          this.setState(\r\n            {\r\n              seatAvailable: this.state.seatAvailable.concat(seat),\r\n              seatReserved: this.state.seatReserved.filter((res) => res !== seat),\r\n            },\r\n            () => {\r\n              // 在状态更新后执行的逻辑\r\n              this.props.onReservedSeatsCountChange(this.state.seatReserved.length);\r\n            }\r\n          );\r\n        } else {\r\n          if (this.state.seatReserved.length === total) {\r\n            return;\r\n          }\r\n      \r\n          if (this.state.seatUnavailable.indexOf(seat) > -1) {\r\n            return;\r\n          }\r\n      \r\n          if (this.state.seatReserved.indexOf(seat) > -1) {\r\n            this.setState(\r\n              {\r\n                seatAvailable: this.state.seatAvailable.concat(seat),\r\n                seatReserved: this.state.seatReserved.filter((res) => res !== seat),\r\n              },\r\n              () => {\r\n                this.props.onReservedSeatsCountChange(this.state.seatReserved.length);\r\n              }\r\n            );\r\n          } else {\r\n            this.setState(\r\n              {\r\n                seatReserved: this.state.seatReserved.concat(seat),\r\n                seatAvailable: this.state.seatAvailable.filter((res) => res !== seat),\r\n              },\r\n              () => {\r\n                this.props.onReservedSeatsCountChange(this.state.seatReserved.length);\r\n              }\r\n            );\r\n          }\r\n        }\r\n      }\r\n      \r\n    render() {\r\n      return (\r\n        <div className='main-container'>\r\n          <div className='blank'/>\r\n          <DrawGrid \r\n            seat = { this.state.seat }\r\n            available = { this.state.seatAvailable }\r\n            reserved = { this.state.seatReserved }\r\n            unavailable = {this.state.seatUnavailable}\r\n            onClickData = { this.onClickData.bind(this) }\r\n            />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  \r\nclass DrawGrid extends React.Component {\r\n    render() {\r\n      const seats = this.props.seat;\r\n      const seatRows = [];\r\n      for (let i = 0; i < seats.length; i += 10) {\r\n        seatRows.push(seats.slice(i, i + 10));\r\n      }\r\n  \r\n      return (\r\n        <div className=\"container\">\r\n          <table className=\"grid\">\r\n            <tbody>\r\n              {seatRows.map((row, rowIndex) => (\r\n                <tr key={rowIndex}>\r\n                  {row.map((seat) => (\r\n                    <td\r\n                      className={\r\n                        this.props.reserved.indexOf(seat) > -1\r\n                        //   ? 'reserved'\r\n                        //   : 'available'\r\n                        ? 'reserved'\r\n                        : this.props.unavailable.indexOf(seat) > -1\r\n                        ? 'unavailable'\r\n                        : 'available'\r\n                      }\r\n                      key={seat}\r\n                      onClick={(e) => this.onClickSeat(seat)}\r\n                    >\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    }\r\n  \r\n    onClickSeat(seat) {\r\n      this.props.onClickData(seat);\r\n    }\r\n  }\r\n  \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}