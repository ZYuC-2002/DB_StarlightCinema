{"ast":null,"code":"var _jsxFileName = \"D:\\\\React_JS\\\\DB_StarlightCinema\\\\src\\\\forgetPasswird.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport emailjs from '@emailjs/browser';\nimport \"./forgetPassword.css\";\nimport Navbar from \"./upperlistuser\";\nimport Cookies from \"universal-cookie\";\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ForgetPassword = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [isSubmitEnabled, setIsSubmitEnabled] = useState(false);\n  const navigate = useNavigate();\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  };\n  const handlePasswordChange = event => {\n    setPassword(event.target.value);\n    setIsSubmitEnabled(event.target.value === confirmPassword);\n  };\n  const handleConfirmPasswordChange = event => {\n    setConfirmPassword(event.target.value);\n    setIsSubmitEnabled(event.target.value === password);\n  };\n  const alertMessage = () => {\n    if (!isSubmitEnabled) {\n      alert(\"密碼不一致\");\n    }\n  };\n  const emailRef = useRef(null);\n  //const nameRef = useRef(null);\n  //, name: nameRef.current.value \n\n  const handleSubmit = event => {\n    event.preventDefault();\n    alertMessage(); // 檢查密碼是否一致\n\n    /* submit */\n    if (isSubmitEnabled) {\n      /* send email */\n      emailjs.send(\"service_aq2wl0k\", \"template_g4hcvlv\", {\n        email: emailRef.current.value\n      }, \"dHTKHVHTtwI7cqz5g\").then(function (result) {\n        console.log('SUCCESS!', result.status, result.text);\n        navigate('/emailcheck'); // 密碼一致時跳轉頁面\n      }).catch(function (error) {\n        console.error('FAILED...', error);\n      });\n    }\n  };\n  const [search, setSearch] = useState('');\n  const cookies = new Cookies();\n  useEffect(() => {\n    cookies.set('search', search, {\n      path: '/'\n    });\n    console.log(cookies);\n  }, [search, cookies]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      setSearch: setSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputEmail\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"emailLabel\",\n            children: \"\\u8ACB\\u8F38\\u5165\\u96FB\\u5B50\\u4FE1\\u7BB1:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"Email\",\n            pattern: \"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$\",\n            required: true,\n            value: email,\n            onChange: handleEmailChange,\n            ref: emailRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputPassword\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"passwordLabel\",\n            children: \"\\u8ACB\\u8F38\\u5165\\u65B0\\u5BC6\\u78BC:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Password\",\n            pattern: \"^[a-zA-Z0-9._%+-]{6,20}$\",\n            required: true,\n            value: password,\n            onChange: handlePasswordChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputConfirmPassword\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirmPasswordLabel\",\n            children: \"\\u8ACB\\u518D\\u6B21\\u8F38\\u5165\\u65B0\\u5BC6\\u78BC:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Confirm Password\",\n            pattern: \"^[a-zA-Z0-9._%+-]{6,20}$\",\n            required: true,\n            value: confirmPassword,\n            onChange: handleConfirmPasswordChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u767C\\u9001\\u9A57\\u8B49\\u4FE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ForgetPassword, \"vUHa1YJ1Xi+6ITePe4st9XC1/Dk=\", false, function () {\n  return [useNavigate];\n});\n_c = ForgetPassword;\nexport default ForgetPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgetPassword\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","emailjs","Navbar","Cookies","BrowserRouter","Router","jsxDEV","_jsxDEV","Fragment","_Fragment","ForgetPassword","_s","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","isSubmitEnabled","setIsSubmitEnabled","navigate","handleEmailChange","event","target","value","handlePasswordChange","handleConfirmPasswordChange","alertMessage","alert","emailRef","handleSubmit","preventDefault","send","current","then","result","console","log","status","text","catch","error","search","setSearch","cookies","set","path","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","placeholder","pattern","required","onChange","ref","_c","$RefreshReg$"],"sources":["D:/React_JS/DB_StarlightCinema/src/forgetPasswird.js"],"sourcesContent":["import React, {useState, useRef,useEffect} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport emailjs from '@emailjs/browser';\r\nimport \"./forgetPassword.css\";\r\nimport Navbar from \"./upperlistuser\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nconst ForgetPassword = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [isSubmitEnabled, setIsSubmitEnabled] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const handleEmailChange = (event) => {\r\n        setEmail(event.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (event) => {\r\n        setPassword(event.target.value);\r\n        setIsSubmitEnabled(event.target.value === confirmPassword);\r\n    };\r\n\r\n    const handleConfirmPasswordChange = (event) => {\r\n        setConfirmPassword(event.target.value);\r\n        setIsSubmitEnabled(event.target.value === password);\r\n    };\r\n\r\n    const alertMessage = () => {\r\n        if (!isSubmitEnabled) {\r\n            alert(\"密碼不一致\");\r\n        }\r\n    };\r\n\r\n    const emailRef = useRef(null);\r\n    //const nameRef = useRef(null);\r\n    //, name: nameRef.current.value \r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        alertMessage(); // 檢查密碼是否一致\r\n\r\n        /* submit */\r\n        if (isSubmitEnabled) {\r\n            /* send email */\r\n            emailjs.send(\"service_aq2wl0k\",\"template_g4hcvlv\",{ email: emailRef.current.value}, \"dHTKHVHTtwI7cqz5g\")\r\n                .then(function(result) {\r\n                    console.log('SUCCESS!', result.status, result.text);\r\n                    navigate('/emailcheck'); // 密碼一致時跳轉頁面\r\n                })\r\n                .catch(function(error) {\r\n                    console.error('FAILED...', error);\r\n                });\r\n        }\r\n    };\r\n    const [search, setSearch] = useState('');\r\n    const cookies=new Cookies();\r\n\r\n    useEffect(() => {\r\n        cookies.set('search',search,{path:'/'});\r\n        console.log(cookies)\r\n    },[search, cookies])\r\n\r\n    return(\r\n        <>\r\n            <Navbar setSearch={setSearch}/>\r\n            <div className=\"register\">\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"inputEmail\">\r\n                        <div className=\"emailLabel\">請輸入電子信箱:</div>\r\n                        <input\r\n                            type=\"email\"\r\n                            placeholder=\"Email\"\r\n                            pattern=\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$\"\r\n                            required value={email}\r\n                            onChange={handleEmailChange}\r\n                            ref={emailRef}\r\n                        />\r\n                    </div>\r\n                    <div className=\"inputPassword\">\r\n                        <div className=\"passwordLabel\">請輸入新密碼:</div>\r\n                        <input\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            pattern=\"^[a-zA-Z0-9._%+-]{6,20}$\"\r\n                            required value={password}\r\n                            onChange={handlePasswordChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"inputConfirmPassword\">\r\n                        <div className=\"confirmPasswordLabel\">請再次輸入新密碼:</div>\r\n                        <input\r\n                            type=\"password\"\r\n                            placeholder=\"Confirm Password\"\r\n                            pattern=\"^[a-zA-Z0-9._%+-]{6,20}$\"\r\n                            required value={confirmPassword}\r\n                            onChange={handleConfirmPasswordChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <button type=\"submit\">發送驗證信</button>\r\n                </form>\r\n                \r\n            </div>\r\n        </>\r\n      \r\n    );\r\n    \r\n};\r\nexport default ForgetPassword;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}